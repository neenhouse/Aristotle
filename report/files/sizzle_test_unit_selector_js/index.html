<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - sizzle/test/unit/selector.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>sizzle/test/unit/selector.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">53.50</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">1149</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">46.64</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">20.90</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">module(&quot;selector&quot;, { teardown: moduleTeardown });

// #### NOTE: ####
// jQuery should not be used in this module
// except for DOM manipulation
// If jQuery is mandatory for the selection, move the test to jquery/test/unit/selector.js
// Use t() or Sizzle()
// ###############

/*
	======== QUnit Reference ========
	http://docs.jquery.com/QUnit

	Test methods:
		expect(numAssertions)
		stop()
		start()
			note: QUnit&#039;s eventual addition of an argument to stop/start is ignored in this test suite
			so that start and stop can be passed as callbacks without worrying about
				their parameters
	Test assertions:
		ok(value, [message])
		equal(actual, expected, [message])
		notEqual(actual, expected, [message])
		deepEqual(actual, expected, [message])
		notDeepEqual(actual, expected, [message])
		strictEqual(actual, expected, [message])
		notStrictEqual(actual, expected, [message])
		raises(block, [expected], [message])

	======== testinit.js reference ========
	See data/testinit.js

	q(...);
		Returns an array of elements with the given IDs
		@example q(&quot;main&quot;, &quot;foo&quot;, &quot;bar&quot;) =&gt; [&lt;div id=&quot;main&quot;&gt;, &lt;span id=&quot;foo&quot;&gt;, &lt;input id=&quot;bar&quot;&gt;]

	t( testName, selector, [ &quot;array&quot;, &quot;of&quot;, &quot;ids&quot; ] );
		Asserts that a select matches the given IDs
		@example t(&quot;Check for something&quot;, &quot;//[a]&quot;, [&quot;foo&quot;, &quot;baar&quot;]);

	url( &quot;some/url.php&quot; );
		Add random number to url to stop caching
		@example url(&quot;data/test.html&quot;) =&gt; &quot;data/test.html?10538358428943&quot;
		@example url(&quot;data/test.php?foo=bar&quot;) =&gt; &quot;data/test.php?foo=bar&amp;10538358345554&quot;
*/

test(&quot;element&quot;, function() {
	expect( 39 );

	var form, all, good, i, obj1, lengthtest,
		siblingTest, siblingNext, iframe, iframeDoc, html;

	equal( Sizzle(&quot;&quot;).length, 0, &quot;Empty selector returns an empty array&quot; );
	deepEqual( Sizzle(&quot;div&quot;, document.createTextNode(&quot;&quot;)), [], &quot;Text element as context fails silently&quot; );
	form = document.getElementById(&quot;form&quot;);
	ok( !Sizzle.matchesSelector( form, &quot;&quot; ), &quot;Empty string passed to matchesSelector does not match&quot; );
	equal( Sizzle(&quot; &quot;).length, 0, &quot;Empty selector returns an empty array&quot; );
	equal( Sizzle(&quot;\t&quot;).length, 0, &quot;Empty selector returns an empty array&quot; );

	ok( Sizzle(&quot;*&quot;).length &gt;= 30, &quot;Select all&quot; );
	all = Sizzle(&quot;*&quot;);
	good = true;
	for ( i = 0; i &lt; all.length; i++ ) {
		if ( all[i].nodeType === 8 ) {
			good = false;
		}
	}
	ok( good, &quot;Select all elements, no comment nodes&quot; );
	t( &quot;Element Selector&quot;, &quot;html&quot;, [&quot;html&quot;] );
	t( &quot;Element Selector&quot;, &quot;body&quot;, [&quot;body&quot;] );
	t( &quot;Element Selector&quot;, &quot;#qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );

	t( &quot;Leading space&quot;, &quot; #qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Leading tab&quot;, &quot;\t#qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Leading carriage return&quot;, &quot;\r#qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Leading line feed&quot;, &quot;\n#qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Leading form feed&quot;, &quot;\f#qunit-fixture p&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Trailing space&quot;, &quot;#qunit-fixture p &quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Trailing tab&quot;, &quot;#qunit-fixture p\t&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Trailing carriage return&quot;, &quot;#qunit-fixture p\r&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Trailing line feed&quot;, &quot;#qunit-fixture p\n&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Trailing form feed&quot;, &quot;#qunit-fixture p\f&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );

	t( &quot;Parent Element&quot;, &quot;dl ol&quot;, [&quot;empty&quot;, &quot;listWithTabIndex&quot;] );
	t( &quot;Parent Element (non-space descendant combinator)&quot;, &quot;dl\tol&quot;, [&quot;empty&quot;, &quot;listWithTabIndex&quot;] );
	obj1 = document.getElementById(&quot;object1&quot;);
	equal( Sizzle(&quot;param&quot;, obj1).length, 2, &quot;Object/param as context&quot; );

	deepEqual( Sizzle(&quot;select&quot;, form), q(&quot;select1&quot;,&quot;select2&quot;,&quot;select3&quot;,&quot;select4&quot;,&quot;select5&quot;), &quot;Finding selects with a context.&quot; );

	// Check for unique-ness and sort order
	deepEqual( Sizzle(&quot;p, div p&quot;), Sizzle(&quot;p&quot;), &quot;Check for duplicates: p, div p&quot; );

	t( &quot;Checking sort order&quot;, &quot;h2, h1&quot;, [&quot;qunit-header&quot;, &quot;qunit-banner&quot;, &quot;qunit-userAgent&quot;] );
	t( &quot;Checking sort order&quot;, &quot;h2:first, h1:first&quot;, [&quot;qunit-header&quot;, &quot;qunit-banner&quot;] );
	t( &quot;Checking sort order&quot;, &quot;#qunit-fixture p, #qunit-fixture p a&quot;, [&quot;firstp&quot;, &quot;simon1&quot;, &quot;ap&quot;, &quot;google&quot;, &quot;groups&quot;, &quot;anchor1&quot;, &quot;mark&quot;, &quot;sndp&quot;, &quot;en&quot;, &quot;yahoo&quot;, &quot;sap&quot;, &quot;anchor2&quot;, &quot;simon&quot;, &quot;first&quot;] );

	// Test Conflict ID
	lengthtest = document.getElementById(&quot;lengthtest&quot;);
	deepEqual( Sizzle(&quot;#idTest&quot;, lengthtest), q(&quot;idTest&quot;), &quot;Finding element with id of ID.&quot; );
	deepEqual( Sizzle(&quot;[name=&#039;id&#039;]&quot;, lengthtest), q(&quot;idTest&quot;), &quot;Finding element with id of ID.&quot; );
	deepEqual( Sizzle(&quot;input[id=&#039;idTest&#039;]&quot;, lengthtest), q(&quot;idTest&quot;), &quot;Finding elements with id of ID.&quot; );

	siblingTest = document.getElementById(&quot;siblingTest&quot;);
	deepEqual( Sizzle(&quot;div em&quot;, siblingTest), [], &quot;Element-rooted QSA does not select based on document context&quot; );
	deepEqual( Sizzle(&quot;div em, div em, div em:not(div em)&quot;, siblingTest), [], &quot;Element-rooted QSA does not select based on document context&quot; );
	deepEqual( Sizzle(&quot;div em, em\\,&quot;, siblingTest), [], &quot;Escaped commas do not get treated with an id in element-rooted QSA&quot; );

	siblingNext = document.getElementById(&quot;siblingnext&quot;);
	document.createDocumentFragment().appendChild( siblingTest );
	deepEqual( Sizzle( &quot;em + :not(:has(*)):not(:empty), foo&quot;, siblingTest ), [ siblingNext ],
		&quot;Non-qSA path correctly sets detached context for sibling selectors (jQuery #14351)&quot; );

	iframe = document.getElementById(&quot;iframe&quot;),
		iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
	iframeDoc.open();
	iframeDoc.write(&quot;&lt;body&gt;&lt;p id=&#039;foo&#039;&gt;bar&lt;/p&gt;&lt;/body&gt;&quot;);
	iframeDoc.close();
	deepEqual(
		Sizzle( &quot;p:contains(bar)&quot;, iframeDoc ),
		[ iframeDoc.getElementById(&quot;foo&quot;) ],
		&quot;Other document as context&quot;
	);

	html = &quot;&quot;;
	for ( i = 0; i &lt; 100; i++ ) {
		html = &quot;&lt;div&gt;&quot; + html + &quot;&lt;/div&gt;&quot;;
	}
	html = jQuery( html ).appendTo( document.body );
	ok( !!Sizzle(&quot;body div div div&quot;).length, &quot;No stack or performance problems with large amounts of descendents&quot; );
	ok( !!Sizzle(&quot;body&gt;div div div&quot;).length, &quot;No stack or performance problems with large amounts of descendents&quot; );
	html.remove();

	// Real use case would be using .watch in browsers with window.watch (see Issue #157)
	q(&quot;qunit-fixture&quot;)[0].appendChild( document.createElement(&quot;toString&quot;) ).id = &quot;toString&quot;;
	t( &quot;Element name matches Object.prototype property&quot;, &quot;toString#toString&quot;, [&quot;toString&quot;] );
});

test(&quot;XML Document Selectors&quot;, function() {
	var xml = createWithFriesXML();
	expect( 11 );

	equal( Sizzle(&quot;foo_bar&quot;, xml).length, 1, &quot;Element Selector with underscore&quot; );
	equal( Sizzle(&quot;.component&quot;, xml).length, 1, &quot;Class selector&quot; );
	equal( Sizzle(&quot;[class*=component]&quot;, xml).length, 1, &quot;Attribute selector for class&quot; );
	equal( Sizzle(&quot;property[name=prop2]&quot;, xml).length, 1, &quot;Attribute selector with name&quot; );
	equal( Sizzle(&quot;[name=prop2]&quot;, xml).length, 1, &quot;Attribute selector with name&quot; );
	equal( Sizzle(&quot;#seite1&quot;, xml).length, 1, &quot;Attribute selector with ID&quot; );
	equal( Sizzle(&quot;component#seite1&quot;, xml).length, 1, &quot;Attribute selector with ID&quot; );
	equal( Sizzle.matches( &quot;#seite1&quot;, Sizzle(&quot;component&quot;, xml) ).length, 1, &quot;Attribute selector filter with ID&quot; );
	equal( Sizzle(&quot;meta property thing&quot;, xml).length, 2, &quot;Descendent selector and dir caching&quot; );
	ok( Sizzle.matchesSelector( xml.lastChild, &quot;soap\\:Envelope&quot; ), &quot;Check for namespaced element&quot; );

	xml = jQuery.parseXML(&quot;&lt;?xml version=&#039;1.0&#039; encoding=&#039;UTF-8&#039;?&gt;&lt;root&gt;&lt;elem id=&#039;1&#039;/&gt;&lt;/root&gt;&quot;);
	equal( Sizzle( &quot;elem:not(:has(*))&quot;, xml ).length, 1,
		&quot;Non-qSA path correctly handles numeric ids (jQuery #14142)&quot; );
});

test(&quot;broken&quot;, function() {
	expect( 26 );

	var attrbad,
		broken = function( name, selector ) {
			throws(function() {
				// Setting context to null here somehow avoids QUnit&#039;s window.error handling
				// making the e &amp; e.message correct
				// For whatever reason, without this,
				// Sizzle.error will be called but no error will be seen in oldIE
				Sizzle.call( null, selector );
			}, function( e ) {
				return e.message.indexOf(&quot;Syntax error&quot;) &gt;= 0;
			}, name + &quot;: &quot; + selector );
		};

	broken( &quot;Broken Selector&quot;, &quot;[&quot; );
	broken( &quot;Broken Selector&quot;, &quot;(&quot; );
	broken( &quot;Broken Selector&quot;, &quot;{&quot; );
	broken( &quot;Broken Selector&quot;, &quot;&lt;&quot; );
	broken( &quot;Broken Selector&quot;, &quot;()&quot; );
	broken( &quot;Broken Selector&quot;, &quot;&lt;&gt;&quot; );
	broken( &quot;Broken Selector&quot;, &quot;{}&quot; );
	broken( &quot;Broken Selector&quot;, &quot;,&quot; );
	broken( &quot;Broken Selector&quot;, &quot;,a&quot; );
	broken( &quot;Broken Selector&quot;, &quot;a,&quot; );
	// Hangs on IE 9 if regular expression is inefficient
	broken( &quot;Broken Selector&quot;, &quot;[id=012345678901234567890123456789&quot;);
	broken( &quot;Doesn&#039;t exist&quot;, &quot;:visble&quot; );
	broken( &quot;Nth-child&quot;, &quot;:nth-child&quot; );
	// Sigh again. IE 9 thinks this is also a real selector
	// not super critical that we fix this case
	//broken( &quot;Nth-child&quot;, &quot;:nth-child(-)&quot; );
	// Sigh. WebKit thinks this is a real selector in qSA
	// They&#039;ve already fixed this and it&#039;ll be coming into
	// current browsers soon. Currently, Safari 5.0 still has this problem
	// broken( &quot;Nth-child&quot;, &quot;:nth-child(asdf)&quot;, [] );
	broken( &quot;Nth-child&quot;, &quot;:nth-child(2n+-0)&quot; );
	broken( &quot;Nth-child&quot;, &quot;:nth-child(2+0)&quot; );
	broken( &quot;Nth-child&quot;, &quot;:nth-child(- 1n)&quot; );
	broken( &quot;Nth-child&quot;, &quot;:nth-child(-1 n)&quot; );
	broken( &quot;First-child&quot;, &quot;:first-child(n)&quot; );
	broken( &quot;Last-child&quot;, &quot;:last-child(n)&quot; );
	broken( &quot;Only-child&quot;, &quot;:only-child(n)&quot; );
	broken( &quot;Nth-last-last-child&quot;, &quot;:nth-last-last-child(1)&quot; );
	broken( &quot;First-last-child&quot;, &quot;:first-last-child&quot; );
	broken( &quot;Last-last-child&quot;, &quot;:last-last-child&quot; );
	broken( &quot;Only-last-child&quot;, &quot;:only-last-child&quot; );

	// Make sure attribute value quoting works correctly. See: #6093
	attrbad = jQuery(&quot;&lt;input type=&#039;hidden&#039; value=&#039;2&#039; name=&#039;foo.baz&#039; id=&#039;attrbad1&#039;/&gt;&lt;input type=&#039;hidden&#039; value=&#039;2&#039; name=&#039;foo[baz]&#039; id=&#039;attrbad2&#039;/&gt;&quot;).appendTo(&quot;#qunit-fixture&quot;);

	broken( &quot;Attribute not escaped&quot;, &quot;input[name=foo.baz]&quot;, [] );
	// Shouldn&#039;t be matching those inner brackets
	broken( &quot;Attribute not escaped&quot;, &quot;input[name=foo[baz]]&quot;, [] );
});

test(&quot;id&quot;, function() {
	expect( 34 );

	var fiddle, a;

	t( &quot;ID Selector&quot;, &quot;#body&quot;, [&quot;body&quot;] );
	t( &quot;ID Selector w/ Element&quot;, &quot;body#body&quot;, [&quot;body&quot;] );
	t( &quot;ID Selector w/ Element&quot;, &quot;ul#first&quot;, [] );
	t( &quot;ID selector with existing ID descendant&quot;, &quot;#firstp #simon1&quot;, [&quot;simon1&quot;] );
	t( &quot;ID selector with non-existant descendant&quot;, &quot;#firstp #foobar&quot;, [] );
	t( &quot;ID selector using UTF8&quot;, &quot;#台北Táiběi&quot;, [&quot;台北Táiběi&quot;] );
	t( &quot;Multiple ID selectors using UTF8&quot;, &quot;#台北Táiběi, #台北&quot;, [&quot;台北Táiběi&quot;,&quot;台北&quot;] );
	t( &quot;Descendant ID selector using UTF8&quot;, &quot;div #台北&quot;, [&quot;台北&quot;] );
	t( &quot;Child ID selector using UTF8&quot;, &quot;form &gt; #台北&quot;, [&quot;台北&quot;] );

	t( &quot;Escaped ID&quot;, &quot;#foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Escaped ID with descendent&quot;, &quot;#foo\\:bar span:not(:input)&quot;, [&quot;foo_descendent&quot;] );
	t( &quot;Escaped ID&quot;, &quot;#test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );
	t( &quot;Descendant escaped ID&quot;, &quot;div #foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Descendant escaped ID&quot;, &quot;div #test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );
	t( &quot;Child escaped ID&quot;, &quot;form &gt; #foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Child escaped ID&quot;, &quot;form &gt; #test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );

	fiddle = jQuery(&quot;&lt;div id=&#039;fiddle\\Foo&#039;&gt;&lt;span id=&#039;fiddleSpan&#039;&gt;&lt;/span&gt;&lt;/div&gt;&quot;).appendTo(&quot;#qunit-fixture&quot;);
	deepEqual( Sizzle( &quot;&gt; span&quot;, Sizzle(&quot;#fiddle\\\\Foo&quot;)[0] ), q([ &quot;fiddleSpan&quot; ]), &quot;Escaped ID as context&quot; );
	fiddle.remove();

	t( &quot;ID Selector, child ID present&quot;, &quot;#form &gt; #radio1&quot;, [&quot;radio1&quot;] ); // bug #267
	t( &quot;ID Selector, not an ancestor ID&quot;, &quot;#form #first&quot;, [] );
	t( &quot;ID Selector, not a child ID&quot;, &quot;#form &gt; #option1a&quot;, [] );

	t( &quot;All Children of ID&quot;, &quot;#foo &gt; *&quot;, [&quot;sndp&quot;, &quot;en&quot;, &quot;sap&quot;] );
	t( &quot;All Children of ID with no children&quot;, &quot;#firstUL &gt; *&quot;, [] );

	equal( Sizzle(&quot;#tName1&quot;)[0].id, &quot;tName1&quot;, &quot;ID selector with same value for a name attribute&quot; );
	t( &quot;ID selector non-existing but name attribute on an A tag&quot;,         &quot;#tName2&quot;,      [] );
	t( &quot;Leading ID selector non-existing but name attribute on an A tag&quot;, &quot;#tName2 span&quot;, [] );
	t( &quot;Leading ID selector existing, retrieving the child&quot;,              &quot;#tName1 span&quot;, [&quot;tName1-span&quot;] );
	equal( Sizzle(&quot;div &gt; div #tName1&quot;)[0].id, Sizzle(&quot;#tName1-span&quot;)[0].parentNode.id, &quot;Ending with ID&quot; );

	a = jQuery(&quot;&lt;a id=&#039;backslash\\foo&#039;&gt;&lt;/a&gt;&quot;).appendTo(&quot;#qunit-fixture&quot;);
	t( &quot;ID Selector contains backslash&quot;, &quot;#backslash\\\\foo&quot;, [&quot;backslash\\foo&quot;] );

	t( &quot;ID Selector on Form with an input that has a name of &#039;id&#039;&quot;, &quot;#lengthtest&quot;, [&quot;lengthtest&quot;] );

	t( &quot;ID selector with non-existant ancestor&quot;, &quot;#asdfasdf #foobar&quot;, [] ); // bug #986

	deepEqual( Sizzle(&quot;div#form&quot;, document.body), [], &quot;ID selector within the context of another element&quot; );

	t( &quot;Underscore ID&quot;, &quot;#types_all&quot;, [&quot;types_all&quot;] );
	t( &quot;Dash ID&quot;, &quot;#qunit-fixture&quot;, [&quot;qunit-fixture&quot;] );

	t( &quot;ID with weird characters in it&quot;, &quot;#name\\+value&quot;, [&quot;name+value&quot;] );
});

test(&quot;class&quot;, function() {
	expect( 26 );

	t( &quot;Class Selector&quot;, &quot;.blog&quot;, [&quot;mark&quot;,&quot;simon&quot;] );
	t( &quot;Class Selector&quot;, &quot;.GROUPS&quot;, [&quot;groups&quot;] );
	t( &quot;Class Selector&quot;, &quot;.blog.link&quot;, [&quot;simon&quot;] );
	t( &quot;Class Selector w/ Element&quot;, &quot;a.blog&quot;, [&quot;mark&quot;,&quot;simon&quot;] );
	t( &quot;Parent Class Selector&quot;, &quot;p .blog&quot;, [&quot;mark&quot;,&quot;simon&quot;] );

	t( &quot;Class selector using UTF8&quot;, &quot;.台北Táiběi&quot;, [&quot;utf8class1&quot;] );
	//t( &quot;Class selector using UTF8&quot;, &quot;.台北&quot;, [&quot;utf8class1&quot;,&quot;utf8class2&quot;] );
	t( &quot;Class selector using UTF8&quot;, &quot;.台北Táiběi.台北&quot;, [&quot;utf8class1&quot;] );
	t( &quot;Class selector using UTF8&quot;, &quot;.台北Táiběi, .台北&quot;, [&quot;utf8class1&quot;,&quot;utf8class2&quot;] );
	t( &quot;Descendant class selector using UTF8&quot;, &quot;div .台北Táiběi&quot;, [&quot;utf8class1&quot;] );
	t( &quot;Child class selector using UTF8&quot;, &quot;form &gt; .台北Táiběi&quot;, [&quot;utf8class1&quot;] );

	t( &quot;Escaped Class&quot;, &quot;.foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Escaped Class&quot;, &quot;.test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );
	t( &quot;Descendant escaped Class&quot;, &quot;div .foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Descendant escaped Class&quot;, &quot;div .test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );
	t( &quot;Child escaped Class&quot;, &quot;form &gt; .foo\\:bar&quot;, [&quot;foo:bar&quot;] );
	t( &quot;Child escaped Class&quot;, &quot;form &gt; .test\\.foo\\[5\\]bar&quot;, [&quot;test.foo[5]bar&quot;] );

	var div = document.createElement(&quot;div&quot;);
	div.innerHTML = &quot;&lt;div class=&#039;test e&#039;&gt;&lt;/div&gt;&lt;div class=&#039;test&#039;&gt;&lt;/div&gt;&quot;;
	deepEqual( Sizzle(&quot;.e&quot;, div), [ div.firstChild ], &quot;Finding a second class.&quot; );

	div.lastChild.className = &quot;e&quot;;

	deepEqual( Sizzle(&quot;.e&quot;, div), [ div.firstChild, div.lastChild ], &quot;Finding a modified class.&quot; );

	ok( !Sizzle.matchesSelector( div, &quot;.null&quot;), &quot;.null does not match an element with no class&quot; );
	ok( !Sizzle.matchesSelector( div.firstChild, &quot;.null div&quot;), &quot;.null does not match an element with no class&quot; );
	div.className = &quot;null&quot;;
	ok( Sizzle.matchesSelector( div, &quot;.null&quot;), &quot;.null matches element with class &#039;null&#039;&quot; );
	ok( Sizzle.matchesSelector( div.firstChild, &quot;.null div&quot;), &quot;caching system respects DOM changes&quot; );
	ok( !Sizzle.matchesSelector( document, &quot;.foo&quot; ), &quot;testing class on document doesn&#039;t error&quot; );
	ok( !Sizzle.matchesSelector( window, &quot;.foo&quot; ), &quot;testing class on window doesn&#039;t error&quot; );

	div.lastChild.className += &quot; hasOwnProperty toString&quot;;
	deepEqual( Sizzle(&quot;.e.hasOwnProperty.toString&quot;, div), [ div.lastChild ], &quot;Classes match Object.prototype properties&quot; );

	div = jQuery(&quot;&lt;div&gt;&lt;svg width=&#039;200&#039; height=&#039;250&#039; version=&#039;1.1&#039; xmlns=&#039;http://www.w3.org/2000/svg&#039;&gt;&lt;rect x=&#039;10&#039; y=&#039;10&#039; width=&#039;30&#039; height=&#039;30&#039; class=&#039;foo&#039;&gt;&lt;/rect&gt;&lt;/svg&gt;&lt;/div&gt;&quot;)[0];
	equal( Sizzle(&quot;.foo&quot;, div).length, 1, &quot;Class selector against SVG&quot; );
});

test(&quot;name&quot;, function() {
	expect( 14 );

	var form;

	t( &quot;Name selector&quot;, &quot;input[name=action]&quot;, [&quot;text1&quot;] );
	t( &quot;Name selector with single quotes&quot;, &quot;input[name=&#039;action&#039;]&quot;, [&quot;text1&quot;] );
	t( &quot;Name selector with double quotes&quot;, &quot;input[name=\&quot;action\&quot;]&quot;, [&quot;text1&quot;] );

	t( &quot;Name selector non-input&quot;, &quot;[name=example]&quot;, [&quot;name-is-example&quot;] );
	t( &quot;Name selector non-input&quot;, &quot;[name=div]&quot;, [&quot;name-is-div&quot;] );
	t( &quot;Name selector non-input&quot;, &quot;*[name=iframe]&quot;, [&quot;iframe&quot;] );

	t( &quot;Name selector for grouped input&quot;, &quot;input[name=&#039;types[]&#039;]&quot;, [&quot;types_all&quot;, &quot;types_anime&quot;, &quot;types_movie&quot;] );

	form = document.getElementById(&quot;form&quot;);
	deepEqual( Sizzle(&quot;input[name=action]&quot;, form), q(&quot;text1&quot;), &quot;Name selector within the context of another element&quot; );
	deepEqual( Sizzle(&quot;input[name=&#039;foo[bar]&#039;]&quot;, form), q(&quot;hidden2&quot;), &quot;Name selector for grouped form element within the context of another element&quot; );

	form = jQuery(&quot;&lt;form&gt;&lt;input name=&#039;id&#039;/&gt;&lt;/form&gt;&quot;).appendTo(&quot;body&quot;);
	equal( Sizzle(&quot;input&quot;, form[0]).length, 1, &quot;Make sure that rooted queries on forms (with possible expandos) work.&quot; );

	form.remove();

	t( &quot;Find elements that have similar IDs&quot;, &quot;[name=tName1]&quot;, [&quot;tName1ID&quot;] );
	t( &quot;Find elements that have similar IDs&quot;, &quot;[name=tName2]&quot;, [&quot;tName2ID&quot;] );
	t( &quot;Find elements that have similar IDs&quot;, &quot;#tName2ID&quot;, [&quot;tName2ID&quot;] );

	t( &quot;Case-sensitivity&quot;, &quot;[name=tname1]&quot;, [] );
});

test(&quot;multiple&quot;, function() {
	expect(6);

	t( &quot;Comma Support&quot;, &quot;h2, #qunit-fixture p&quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Comma Support&quot;, &quot;h2 , #qunit-fixture p&quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Comma Support&quot;, &quot;h2 , #qunit-fixture p&quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Comma Support&quot;, &quot;h2,#qunit-fixture p&quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Comma Support&quot;, &quot;h2,#qunit-fixture p &quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Comma Support&quot;, &quot;h2\t,\r#qunit-fixture p\n&quot;, [&quot;qunit-banner&quot;,&quot;qunit-userAgent&quot;,&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
});

test(&quot;child and adjacent&quot;, function() {
	expect( 42 );

	var siblingFirst, en, nothiddendiv;

	t( &quot;Child&quot;, &quot;p &gt; a&quot;, [&quot;simon1&quot;,&quot;google&quot;,&quot;groups&quot;,&quot;mark&quot;,&quot;yahoo&quot;,&quot;simon&quot;] );
	t( &quot;Child&quot;, &quot;p&gt; a&quot;, [&quot;simon1&quot;,&quot;google&quot;,&quot;groups&quot;,&quot;mark&quot;,&quot;yahoo&quot;,&quot;simon&quot;] );
	t( &quot;Child&quot;, &quot;p &gt;a&quot;, [&quot;simon1&quot;,&quot;google&quot;,&quot;groups&quot;,&quot;mark&quot;,&quot;yahoo&quot;,&quot;simon&quot;] );
	t( &quot;Child&quot;, &quot;p&gt;a&quot;, [&quot;simon1&quot;,&quot;google&quot;,&quot;groups&quot;,&quot;mark&quot;,&quot;yahoo&quot;,&quot;simon&quot;] );
	t( &quot;Child w/ Class&quot;, &quot;p &gt; a.blog&quot;, [&quot;mark&quot;,&quot;simon&quot;] );
	t( &quot;All Children&quot;, &quot;code &gt; *&quot;, [&quot;anchor1&quot;,&quot;anchor2&quot;] );
	t( &quot;All Grandchildren&quot;, &quot;p &gt; * &gt; *&quot;, [&quot;anchor1&quot;,&quot;anchor2&quot;] );
	t( &quot;Adjacent&quot;, &quot;#qunit-fixture a + a&quot;, [&quot;groups&quot;, &quot;tName2ID&quot;] );
	t( &quot;Adjacent&quot;, &quot;#qunit-fixture a +a&quot;, [&quot;groups&quot;, &quot;tName2ID&quot;] );
	t( &quot;Adjacent&quot;, &quot;#qunit-fixture a+ a&quot;, [&quot;groups&quot;, &quot;tName2ID&quot;] );
	t( &quot;Adjacent&quot;, &quot;#qunit-fixture a+a&quot;, [&quot;groups&quot;, &quot;tName2ID&quot;] );
	t( &quot;Adjacent&quot;, &quot;p + p&quot;, [&quot;ap&quot;,&quot;en&quot;,&quot;sap&quot;] );
	t( &quot;Adjacent&quot;, &quot;p#firstp + p&quot;, [&quot;ap&quot;] );
	t( &quot;Adjacent&quot;, &quot;p[lang=en] + p&quot;, [&quot;sap&quot;] );
	t( &quot;Adjacent&quot;, &quot;a.GROUPS + code + a&quot;, [&quot;mark&quot;] );
	t( &quot;Comma, Child, and Adjacent&quot;, &quot;#qunit-fixture a + a, code &gt; a&quot;, [&quot;groups&quot;,&quot;anchor1&quot;,&quot;anchor2&quot;,&quot;tName2ID&quot;] );
	t( &quot;Element Preceded By&quot;, &quot;#qunit-fixture p ~ div&quot;, [&quot;foo&quot;, &quot;nothiddendiv&quot;, &quot;moretests&quot;,&quot;tabindex-tests&quot;, &quot;liveHandlerOrder&quot;, &quot;siblingTest&quot;] );
	t( &quot;Element Preceded By&quot;, &quot;#first ~ div&quot;, [&quot;moretests&quot;,&quot;tabindex-tests&quot;, &quot;liveHandlerOrder&quot;, &quot;siblingTest&quot;] );
	t( &quot;Element Preceded By&quot;, &quot;#groups ~ a&quot;, [&quot;mark&quot;] );
	t( &quot;Element Preceded By&quot;, &quot;#length ~ input&quot;, [&quot;idTest&quot;] );
	t( &quot;Element Preceded By&quot;, &quot;#siblingfirst ~ em&quot;, [&quot;siblingnext&quot;, &quot;siblingthird&quot;] );
	t( &quot;Element Preceded By (multiple)&quot;, &quot;#siblingTest em ~ em ~ em ~ span&quot;, [&quot;siblingspan&quot;] );
	t( &quot;Element Preceded By, Containing&quot;, &quot;#liveHandlerOrder ~ div em:contains(&#039;1&#039;)&quot;, [&quot;siblingfirst&quot;] );

	siblingFirst = document.getElementById(&quot;siblingfirst&quot;);

	deepEqual( Sizzle(&quot;~ em&quot;, siblingFirst), q(&quot;siblingnext&quot;, &quot;siblingthird&quot;), &quot;Element Preceded By with a context.&quot; );
	deepEqual( Sizzle(&quot;+ em&quot;, siblingFirst), q(&quot;siblingnext&quot;), &quot;Element Directly Preceded By with a context.&quot; );
	deepEqual( Sizzle(&quot;~ em:first&quot;, siblingFirst), q(&quot;siblingnext&quot;), &quot;Element Preceded By positional with a context.&quot; );

	en = document.getElementById(&quot;en&quot;);
	deepEqual( Sizzle(&quot;+ p, a&quot;, en), q(&quot;yahoo&quot;, &quot;sap&quot;), &quot;Compound selector with context, beginning with sibling test.&quot; );
	deepEqual( Sizzle(&quot;a, + p&quot;, en), q(&quot;yahoo&quot;, &quot;sap&quot;), &quot;Compound selector with context, containing sibling test.&quot; );

	t( &quot;Multiple combinators selects all levels&quot;, &quot;#siblingTest em *&quot;, [&quot;siblingchild&quot;, &quot;siblinggrandchild&quot;, &quot;siblinggreatgrandchild&quot;] );
	t( &quot;Multiple combinators selects all levels&quot;, &quot;#siblingTest &gt; em *&quot;, [&quot;siblingchild&quot;, &quot;siblinggrandchild&quot;, &quot;siblinggreatgrandchild&quot;] );
	t( &quot;Multiple sibling combinators doesn&#039;t miss general siblings&quot;, &quot;#siblingTest &gt; em:first-child + em ~ span&quot;, [&quot;siblingspan&quot;] );
	t( &quot;Combinators are not skipped when mixing general and specific&quot;, &quot;#siblingTest &gt; em:contains(&#039;x&#039;) + em ~ span&quot;, [] );

	equal( Sizzle(&quot;#listWithTabIndex&quot;).length, 1, &quot;Parent div for next test is found via ID (#8310)&quot; );
	equal( Sizzle(&quot;#listWithTabIndex li:eq(2) ~ li&quot;).length, 1, &quot;Find by general sibling combinator (#8310)&quot; );
	equal( Sizzle(&quot;#__sizzle__&quot;).length, 0, &quot;Make sure the temporary id assigned by sizzle is cleared out (#8310)&quot; );
	equal( Sizzle(&quot;#listWithTabIndex&quot;).length, 1, &quot;Parent div for previous test is still found via ID (#8310)&quot; );

	t( &quot;Verify deep class selector&quot;, &quot;div.blah &gt; p &gt; a&quot;, [] );

	t( &quot;No element deep selector&quot;, &quot;div.foo &gt; span &gt; a&quot;, [] );

	nothiddendiv = document.getElementById(&quot;nothiddendiv&quot;);
	deepEqual( Sizzle(&quot;&gt; :first&quot;, nothiddendiv), q(&quot;nothiddendivchild&quot;), &quot;Verify child context positional selector&quot; );
	deepEqual( Sizzle(&quot;&gt; :eq(0)&quot;, nothiddendiv), q(&quot;nothiddendivchild&quot;), &quot;Verify child context positional selector&quot; );
	deepEqual( Sizzle(&quot;&gt; *:first&quot;, nothiddendiv), q(&quot;nothiddendivchild&quot;), &quot;Verify child context positional selector&quot; );

	t( &quot;Non-existant ancestors&quot;, &quot;.fototab &gt; .thumbnails &gt; a&quot;, [] );
});

test(&quot;attributes&quot;, function() {
	expect( 76 );

	var opt, input, attrbad, div;

	t( &quot;Attribute Exists&quot;, &quot;#qunit-fixture a[title]&quot;, [&quot;google&quot;] );
	t( &quot;Attribute Exists (case-insensitive)&quot;, &quot;#qunit-fixture a[TITLE]&quot;, [&quot;google&quot;] );
	t( &quot;Attribute Exists&quot;, &quot;#qunit-fixture *[title]&quot;, [&quot;google&quot;] );
	t( &quot;Attribute Exists&quot;, &quot;#qunit-fixture [title]&quot;, [&quot;google&quot;] );
	t( &quot;Attribute Exists&quot;, &quot;#qunit-fixture a[ title ]&quot;, [&quot;google&quot;] );

	t( &quot;Boolean attribute exists&quot;, &quot;#select2 option[selected]&quot;, [&quot;option2d&quot;]);
	t( &quot;Boolean attribute equals&quot;, &quot;#select2 option[selected=&#039;selected&#039;]&quot;, [&quot;option2d&quot;]);

	t( &quot;Attribute Equals&quot;, &quot;#qunit-fixture a[rel=&#039;bookmark&#039;]&quot;, [&quot;simon1&quot;] );
	t( &quot;Attribute Equals&quot;, &quot;#qunit-fixture a[rel=&#039;bookmark&#039;]&quot;, [&quot;simon1&quot;] );
	t( &quot;Attribute Equals&quot;, &quot;#qunit-fixture a[rel=bookmark]&quot;, [&quot;simon1&quot;] );
	t( &quot;Attribute Equals&quot;, &quot;#qunit-fixture a[href=&#039;http://www.google.com/&#039;]&quot;, [&quot;google&quot;] );
	t( &quot;Attribute Equals&quot;, &quot;#qunit-fixture a[ rel = &#039;bookmark&#039; ]&quot;, [&quot;simon1&quot;] );
	t( &quot;Attribute Equals Number&quot;, &quot;#qunit-fixture option[value=1]&quot;, [&quot;option1b&quot;,&quot;option2b&quot;,&quot;option3b&quot;,&quot;option4b&quot;,&quot;option5c&quot;] );
	t( &quot;Attribute Equals Number&quot;, &quot;#qunit-fixture li[tabIndex=-1]&quot;, [&quot;foodWithNegativeTabIndex&quot;] );

	document.getElementById(&quot;anchor2&quot;).href = &quot;#2&quot;;
	t( &quot;href Attribute&quot;, &quot;p a[href^=#]&quot;, [&quot;anchor2&quot;] );
	t( &quot;href Attribute&quot;, &quot;p a[href*=#]&quot;, [&quot;simon1&quot;, &quot;anchor2&quot;] );

	t( &quot;for Attribute&quot;, &quot;form label[for]&quot;, [&quot;label-for&quot;] );
	t( &quot;for Attribute in form&quot;, &quot;#form [for=action]&quot;, [&quot;label-for&quot;] );

	t( &quot;Attribute containing []&quot;, &quot;input[name^=&#039;foo[&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name^=&#039;foo[bar]&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name*=&#039;[bar]&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name$=&#039;bar]&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name$=&#039;[bar]&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name$=&#039;foo[bar]&#039;]&quot;, [&quot;hidden2&quot;] );
	t( &quot;Attribute containing []&quot;, &quot;input[name*=&#039;foo[bar]&#039;]&quot;, [&quot;hidden2&quot;] );

	deepEqual( Sizzle( &quot;input[data-comma=&#039;0,1&#039;]&quot; ), [ document.getElementById(&quot;el12087&quot;) ], &quot;Without context, single-quoted attribute containing &#039;,&#039;&quot; );
	deepEqual( Sizzle( &quot;input[data-comma=\&quot;0,1\&quot;]&quot; ), [ document.getElementById(&quot;el12087&quot;) ], &quot;Without context, double-quoted attribute containing &#039;,&#039;&quot; );
	deepEqual( Sizzle( &quot;input[data-comma=&#039;0,1&#039;]&quot;, document.getElementById(&quot;t12087&quot;) ), [ document.getElementById(&quot;el12087&quot;) ], &quot;With context, single-quoted attribute containing &#039;,&#039;&quot; );
	deepEqual( Sizzle( &quot;input[data-comma=\&quot;0,1\&quot;]&quot;, document.getElementById(&quot;t12087&quot;) ), [ document.getElementById(&quot;el12087&quot;) ], &quot;With context, double-quoted attribute containing &#039;,&#039;&quot; );

	t( &quot;Multiple Attribute Equals&quot;, &quot;#form input[type=&#039;radio&#039;], #form input[type=&#039;hidden&#039;]&quot;, [&quot;radio1&quot;, &quot;radio2&quot;, &quot;hidden1&quot;] );
	t( &quot;Multiple Attribute Equals&quot;, &quot;#form input[type=&#039;radio&#039;], #form input[type=\&quot;hidden\&quot;]&quot;, [&quot;radio1&quot;, &quot;radio2&quot;, &quot;hidden1&quot;] );
	t( &quot;Multiple Attribute Equals&quot;, &quot;#form input[type=&#039;radio&#039;], #form input[type=hidden]&quot;, [&quot;radio1&quot;, &quot;radio2&quot;, &quot;hidden1&quot;] );

	t( &quot;Attribute selector using UTF8&quot;, &quot;span[lang=中文]&quot;, [&quot;台北&quot;] );

	t( &quot;Attribute Begins With&quot;, &quot;a[href ^= &#039;http://www&#039;]&quot;, [&quot;google&quot;,&quot;yahoo&quot;] );
	t( &quot;Attribute Ends With&quot;, &quot;a[href $= &#039;org/&#039;]&quot;, [&quot;mark&quot;] );
	t( &quot;Attribute Contains&quot;, &quot;a[href *= &#039;google&#039;]&quot;, [&quot;google&quot;,&quot;groups&quot;] );
	t( &quot;Attribute Is Not Equal&quot;, &quot;#ap a[hreflang!=&#039;en&#039;]&quot;, [&quot;google&quot;,&quot;groups&quot;,&quot;anchor1&quot;] );

	opt = document.getElementById(&quot;option1a&quot;);
	opt.setAttribute( &quot;test&quot;, &quot;&quot; );

	ok( Sizzle.matchesSelector( opt, &quot;[id*=option1][type!=checkbox]&quot; ), &quot;Attribute Is Not Equal Matches&quot; );
	ok( Sizzle.matchesSelector( opt, &quot;[id*=option1]&quot; ), &quot;Attribute With No Quotes Contains Matches&quot; );
	ok( Sizzle.matchesSelector( opt, &quot;[test=]&quot; ), &quot;Attribute With No Quotes No Content Matches&quot; );
	ok( !Sizzle.matchesSelector( opt, &quot;[test^=&#039;&#039;]&quot; ), &quot;Attribute with empty string value does not match startsWith selector (^=)&quot; );
	ok( Sizzle.matchesSelector( opt, &quot;[id=option1a]&quot; ), &quot;Attribute With No Quotes Equals Matches&quot; );
	ok( Sizzle.matchesSelector( document.getElementById(&quot;simon1&quot;), &quot;a[href*=#]&quot; ), &quot;Attribute With No Quotes Href Contains Matches&quot; );

	t( &quot;Empty values&quot;, &quot;#select1 option[value=&#039;&#039;]&quot;, [&quot;option1a&quot;] );
	t( &quot;Empty values&quot;, &quot;#select1 option[value!=&#039;&#039;]&quot;, [&quot;option1b&quot;,&quot;option1c&quot;,&quot;option1d&quot;] );

	t( &quot;Select options via :selected&quot;, &quot;#select1 option:selected&quot;, [&quot;option1a&quot;] );
	t( &quot;Select options via :selected&quot;, &quot;#select2 option:selected&quot;, [&quot;option2d&quot;] );
	t( &quot;Select options via :selected&quot;, &quot;#select3 option:selected&quot;, [&quot;option3b&quot;, &quot;option3c&quot;] );
	t( &quot;Select options via :selected&quot;, &quot;select[name=&#039;select2&#039;] option:selected&quot;, [&quot;option2d&quot;] );

	t( &quot;Grouped Form Elements&quot;, &quot;input[name=&#039;foo[bar]&#039;]&quot;, [&quot;hidden2&quot;] );

	input = document.getElementById(&quot;text1&quot;);
	input.title = &quot;Don&#039;t click me&quot;;

	ok( Sizzle.matchesSelector( input, &quot;input[title=\&quot;Don&#039;t click me\&quot;]&quot; ), &quot;Quote within attribute value does not mess up tokenizer&quot; );

	// Uncomment if the boolHook is removed
	// var check2 = document.getElementById(&quot;check2&quot;);
	// check2.checked = true;
	// ok( !Sizzle.matches(&quot;[checked]&quot;, [ check2 ] ), &quot;Dynamic boolean attributes match when they should with Sizzle.matches (#11115)&quot; );

	// jQuery #12303
	input.setAttribute( &quot;data-pos&quot;, &quot;:first&quot; );
	ok( Sizzle.matchesSelector( input, &quot;input[data-pos=\\:first]&quot;), &quot;POS within attribute value is treated as an attribute value&quot; );
	ok( Sizzle.matchesSelector( input, &quot;input[data-pos=&#039;:first&#039;]&quot;), &quot;POS within attribute value is treated as an attribute value&quot; );
	ok( Sizzle.matchesSelector( input, &quot;:input[data-pos=&#039;:first&#039;]&quot;), &quot;POS within attribute value after pseudo is treated as an attribute value&quot; );
	input.removeAttribute(&quot;data-pos&quot;);

	// Make sure attribute value quoting works correctly. See jQuery #6093; #6428; #13894
	// Use seeded results to bypass querySelectorAll optimizations
	attrbad = jQuery(
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_space&#039; name=&#039;foo bar&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_dot&#039; value=&#039;2&#039; name=&#039;foo.baz&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_brackets&#039; value=&#039;2&#039; name=&#039;foo[baz]&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_injection&#039; data-attr=&#039;foo_baz&amp;#39;]&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_quote&#039; data-attr=&#039;&amp;#39;&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_backslash&#039; data-attr=&#039;&amp;#92;&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_backslash_quote&#039; data-attr=&#039;&amp;#92;&amp;#39;&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_backslash_backslash&#039; data-attr=&#039;&amp;#92;&amp;#92;&#039;/&gt;&quot; +
		&quot;&lt;input type=&#039;hidden&#039; id=&#039;attrbad_unicode&#039; data-attr=&#039;&amp;#x4e00;&#039;/&gt;&quot;
	).appendTo(&quot;#qunit-fixture&quot;).get();

	t( &quot;Underscores don&#039;t need escaping&quot;, &quot;input[id=types_all]&quot;, [&quot;types_all&quot;] );

	deepEqual( Sizzle( &quot;input[name=foo\\ bar]&quot;, null, null, attrbad ), q(&quot;attrbad_space&quot;),
		&quot;Escaped space&quot; );
	deepEqual( Sizzle( &quot;input[name=foo\\.baz]&quot;, null, null, attrbad ), q(&quot;attrbad_dot&quot;),
		&quot;Escaped dot&quot; );
	deepEqual( Sizzle( &quot;input[name=foo\\[baz\\]]&quot;, null, null, attrbad ), q(&quot;attrbad_brackets&quot;),
		&quot;Escaped brackets&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;foo_baz\\&#039;]&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_injection&quot;),
		&quot;Escaped quote + right bracket&quot; );

	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\&#039;&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_quote&quot;),
		&quot;Quoted quote&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\\\&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash&quot;),
		&quot;Quoted backslash&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\\\\\&#039;&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash_quote&quot;),
		&quot;Quoted backslash quote&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\\\\\\\&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash_backslash&quot;),
		&quot;Quoted backslash backslash&quot; );

	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\5C\\\\&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash_backslash&quot;),
		&quot;Quoted backslash backslash (numeric escape)&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\5C \\\\&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash_backslash&quot;),
		&quot;Quoted backslash backslash (numeric escape with trailing space)&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\5C\t\\\\&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_backslash_backslash&quot;),
		&quot;Quoted backslash backslash (numeric escape with trailing tab)&quot; );
	deepEqual( Sizzle( &quot;input[data-attr=&#039;\\04e00&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_unicode&quot;),
		&quot;Long numeric escape (BMP)&quot; );
	document.getElementById(&quot;attrbad_unicode&quot;).setAttribute( &quot;data-attr&quot;, &quot;\uD834\uDF06A&quot; );
	// It was too much code to fix Safari 5.x Supplemental Plane crashes (see ba5f09fa404379a87370ec905ffa47f8ac40aaa3)
	// deepEqual( Sizzle( &quot;input[data-attr=&#039;\\01D306A&#039;]&quot;, null, null, attrbad ), q(&quot;attrbad_unicode&quot;),
	// 	&quot;Long numeric escape (non-BMP)&quot; );

	t( &quot;input[type=text]&quot;, &quot;#form input[type=text]&quot;, [&quot;text1&quot;, &quot;text2&quot;, &quot;hidden2&quot;, &quot;name&quot;] );
	t( &quot;input[type=search]&quot;, &quot;#form input[type=search]&quot;, [&quot;search&quot;] );
	t( &quot;script[src] (jQuery #13777)&quot;, &quot;#moretests script[src]&quot;, [&quot;script-src&quot;] );

	// #3279
	div = document.createElement(&quot;div&quot;);
	div.innerHTML = &quot;&lt;div id=&#039;foo&#039; xml:test=&#039;something&#039;&gt;&lt;/div&gt;&quot;;

	deepEqual( Sizzle( &quot;[xml\\:test]&quot;, div ), [ div.firstChild ], &quot;Finding by attribute with escaped characters.&quot; );

	div = document.getElementById(&quot;foo&quot;);
	t( &quot;Object.prototype property \&quot;constructor\&quot; (negative)&quot;, &quot;[constructor]&quot;, [] );
	t( &quot;Gecko Object.prototype property \&quot;watch\&quot; (negative)&quot;, &quot;[watch]&quot;, [] );
	div.setAttribute( &quot;constructor&quot;, &quot;foo&quot; );
	div.setAttribute( &quot;watch&quot;, &quot;bar&quot; );
	t( &quot;Object.prototype property \&quot;constructor\&quot;&quot;, &quot;[constructor=&#039;foo&#039;]&quot;, [&quot;foo&quot;] );
	t( &quot;Gecko Object.prototype property \&quot;watch\&quot;&quot;, &quot;[watch=&#039;bar&#039;]&quot;, [&quot;foo&quot;] );

	t( &quot;Value attribute is retrieved correctly&quot;, &quot;input[value=Test]&quot;, [&quot;text1&quot;, &quot;text2&quot;] );
});

test(&quot;pseudo - (parent|empty)&quot;, function() {
	expect( 3 );
	t( &quot;Empty&quot;, &quot;ul:empty&quot;, [&quot;firstUL&quot;] );
	t( &quot;Empty with comment node&quot;, &quot;ol:empty&quot;, [&quot;empty&quot;] );
	t( &quot;Is A Parent&quot;, &quot;#qunit-fixture p:parent&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
});

test(&quot;pseudo - (first|last|only)-(child|of-type)&quot;, function() {
	expect( 12 );

	t( &quot;First Child&quot;, &quot;p:first-child&quot;, [&quot;firstp&quot;,&quot;sndp&quot;] );
	t( &quot;First Child (leading id)&quot;, &quot;#qunit-fixture p:first-child&quot;, [&quot;firstp&quot;,&quot;sndp&quot;] );
	t( &quot;First Child (leading class)&quot;, &quot;.nothiddendiv div:first-child&quot;, [&quot;nothiddendivchild&quot;] );
	t( &quot;First Child (case-insensitive)&quot;, &quot;#qunit-fixture p:FIRST-CHILD&quot;, [&quot;firstp&quot;,&quot;sndp&quot;] );

	t( &quot;Last Child&quot;, &quot;p:last-child&quot;, [&quot;sap&quot;] );
	t( &quot;Last Child (leading id)&quot;, &quot;#qunit-fixture a:last-child&quot;, [&quot;simon1&quot;,&quot;anchor1&quot;,&quot;mark&quot;,&quot;yahoo&quot;,&quot;anchor2&quot;,&quot;simon&quot;,&quot;liveLink1&quot;,&quot;liveLink2&quot;] );

	t( &quot;Only Child&quot;, &quot;#qunit-fixture a:only-child&quot;, [&quot;simon1&quot;,&quot;anchor1&quot;,&quot;yahoo&quot;,&quot;anchor2&quot;,&quot;liveLink1&quot;,&quot;liveLink2&quot;] );

	t( &quot;First-of-type&quot;, &quot;#qunit-fixture &gt; p:first-of-type&quot;, [&quot;firstp&quot;] );
	t( &quot;Last-of-type&quot;, &quot;#qunit-fixture &gt; p:last-of-type&quot;, [&quot;first&quot;] );
	t( &quot;Only-of-type&quot;, &quot;#qunit-fixture &gt; :only-of-type&quot;, [&quot;name+value&quot;, &quot;firstUL&quot;, &quot;empty&quot;, &quot;floatTest&quot;, &quot;iframe&quot;, &quot;table&quot;] );

	// Verify that the child position isn&#039;t being cached improperly
	var secondChildren = jQuery(&quot;p:nth-child(2)&quot;).before(&quot;&lt;div&gt;&lt;/div&gt;&quot;);

	t( &quot;No longer second child&quot;, &quot;p:nth-child(2)&quot;, [] );
	secondChildren.prev().remove();
	t( &quot;Restored second child&quot;, &quot;p:nth-child(2)&quot;, [&quot;ap&quot;,&quot;en&quot;] );
});

test(&quot;pseudo - nth-child&quot;, function() {
	expect( 30 );

	t( &quot;Nth-child&quot;, &quot;p:nth-child(1)&quot;, [&quot;firstp&quot;,&quot;sndp&quot;] );
	t( &quot;Nth-child (with whitespace)&quot;, &quot;p:nth-child( 1 )&quot;, [&quot;firstp&quot;,&quot;sndp&quot;] );
	t( &quot;Nth-child (case-insensitive)&quot;, &quot;#form select:first option:NTH-child(3)&quot;, [&quot;option1c&quot;] );
	t( &quot;Not nth-child&quot;, &quot;#qunit-fixture p:not(:nth-child(1))&quot;, [&quot;ap&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );

	t( &quot;Nth-child(2)&quot;, &quot;#qunit-fixture form#form &gt; *:nth-child(2)&quot;, [&quot;text1&quot;] );
	t( &quot;Nth-child(2)&quot;, &quot;#qunit-fixture form#form &gt; :nth-child(2)&quot;, [&quot;text1&quot;] );

	t( &quot;Nth-child(-1)&quot;, &quot;#form select:first option:nth-child(-1)&quot;, [] );
	t( &quot;Nth-child(3)&quot;, &quot;#form select:first option:nth-child(3)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(0n+3)&quot;, &quot;#form select:first option:nth-child(0n+3)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(1n+0)&quot;, &quot;#form select:first option:nth-child(1n+0)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(1n)&quot;, &quot;#form select:first option:nth-child(1n)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(n)&quot;, &quot;#form select:first option:nth-child(n)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(even)&quot;, &quot;#form select:first option:nth-child(even)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(odd)&quot;, &quot;#form select:first option:nth-child(odd)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(2n)&quot;, &quot;#form select:first option:nth-child(2n)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(2n+1)&quot;, &quot;#form select:first option:nth-child(2n+1)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(2n + 1)&quot;, &quot;#form select:first option:nth-child(2n + 1)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(+2n + 1)&quot;, &quot;#form select:first option:nth-child(+2n + 1)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(3n)&quot;, &quot;#form select:first option:nth-child(3n)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(3n+1)&quot;, &quot;#form select:first option:nth-child(3n+1)&quot;, [&quot;option1a&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(3n+2)&quot;, &quot;#form select:first option:nth-child(3n+2)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-child(3n+3)&quot;, &quot;#form select:first option:nth-child(3n+3)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(3n-1)&quot;, &quot;#form select:first option:nth-child(3n-1)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-child(3n-2)&quot;, &quot;#form select:first option:nth-child(3n-2)&quot;, [&quot;option1a&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-child(3n-3)&quot;, &quot;#form select:first option:nth-child(3n-3)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(3n+0)&quot;, &quot;#form select:first option:nth-child(3n+0)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-child(-1n+3)&quot;, &quot;#form select:first option:nth-child(-1n+3)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(-n+3)&quot;, &quot;#form select:first option:nth-child(-n+3)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-child(-1n + 3)&quot;, &quot;#form select:first option:nth-child(-1n + 3)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;] );

	deepEqual( Sizzle( &quot;:nth-child(n)&quot;, null, null, [ document.createElement(&quot;a&quot;) ].concat( q(&quot;ap&quot;) ) ), q(&quot;ap&quot;), &quot;Seeded nth-child&quot; );
});

test(&quot;pseudo - nth-last-child&quot;, function() {
	expect( 30 );

	t( &quot;Nth-last-child&quot;, &quot;form:nth-last-child(5)&quot;, [&quot;testForm&quot;] );
	t( &quot;Nth-last-child (with whitespace)&quot;, &quot;form:nth-last-child( 5 )&quot;, [&quot;testForm&quot;] );
	t( &quot;Nth-last-child (case-insensitive)&quot;, &quot;#form select:first option:NTH-last-child(3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Not nth-last-child&quot;, &quot;#qunit-fixture p:not(:nth-last-child(1))&quot;, [&quot;firstp&quot;, &quot;ap&quot;, &quot;sndp&quot;, &quot;en&quot;, &quot;first&quot;] );

	t( &quot;Nth-last-child(-1)&quot;, &quot;#form select:first option:nth-last-child(-1)&quot;, [] );
	t( &quot;Nth-last-child(3)&quot;, &quot;#form select:first :nth-last-child(3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(3)&quot;, &quot;#form select:first *:nth-last-child(3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(3)&quot;, &quot;#form select:first option:nth-last-child(3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(0n+3)&quot;, &quot;#form select:first option:nth-last-child(0n+3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(1n+0)&quot;, &quot;#form select:first option:nth-last-child(1n+0)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(1n)&quot;, &quot;#form select:first option:nth-last-child(1n)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(n)&quot;, &quot;#form select:first option:nth-last-child(n)&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(even)&quot;, &quot;#form select:first option:nth-last-child(even)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-last-child(odd)&quot;, &quot;#form select:first option:nth-last-child(odd)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(2n)&quot;, &quot;#form select:first option:nth-last-child(2n)&quot;, [&quot;option1a&quot;, &quot;option1c&quot;] );
	t( &quot;Nth-last-child(2n+1)&quot;, &quot;#form select:first option:nth-last-child(2n+1)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(2n + 1)&quot;, &quot;#form select:first option:nth-last-child(2n + 1)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(+2n + 1)&quot;, &quot;#form select:first option:nth-last-child(+2n + 1)&quot;, [&quot;option1b&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(3n)&quot;, &quot;#form select:first option:nth-last-child(3n)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(3n+1)&quot;, &quot;#form select:first option:nth-last-child(3n+1)&quot;, [&quot;option1a&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(3n+2)&quot;, &quot;#form select:first option:nth-last-child(3n+2)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-last-child(3n+3)&quot;, &quot;#form select:first option:nth-last-child(3n+3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(3n-1)&quot;, &quot;#form select:first option:nth-last-child(3n-1)&quot;, [&quot;option1c&quot;] );
	t( &quot;Nth-last-child(3n-2)&quot;, &quot;#form select:first option:nth-last-child(3n-2)&quot;, [&quot;option1a&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(3n-3)&quot;, &quot;#form select:first option:nth-last-child(3n-3)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(3n+0)&quot;, &quot;#form select:first option:nth-last-child(3n+0)&quot;, [&quot;option1b&quot;] );
	t( &quot;Nth-last-child(-1n+3)&quot;, &quot;#form select:first option:nth-last-child(-1n+3)&quot;, [&quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(-n+3)&quot;, &quot;#form select:first option:nth-last-child(-n+3)&quot;, [&quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );
	t( &quot;Nth-last-child(-1n + 3)&quot;, &quot;#form select:first option:nth-last-child(-1n + 3)&quot;, [&quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;] );

	deepEqual( Sizzle( &quot;:nth-last-child(n)&quot;, null, null, [ document.createElement(&quot;a&quot;) ].concat( q(&quot;ap&quot;) ) ), q(&quot;ap&quot;), &quot;Seeded nth-last-child&quot; );
});

test(&quot;pseudo - nth-of-type&quot;, function() {
	expect( 9 );
	t( &quot;Nth-of-type(-1)&quot;, &quot;:nth-of-type(-1)&quot;, [] );
	t( &quot;Nth-of-type(3)&quot;, &quot;#ap :nth-of-type(3)&quot;, [&quot;mark&quot;] );
	t( &quot;Nth-of-type(n)&quot;, &quot;#ap :nth-of-type(n)&quot;, [&quot;google&quot;, &quot;groups&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-of-type(0n+3)&quot;, &quot;#ap :nth-of-type(0n+3)&quot;, [&quot;mark&quot;] );
	t( &quot;Nth-of-type(2n)&quot;, &quot;#ap :nth-of-type(2n)&quot;, [&quot;groups&quot;] );
	t( &quot;Nth-of-type(even)&quot;, &quot;#ap :nth-of-type(even)&quot;, [&quot;groups&quot;] );
	t( &quot;Nth-of-type(2n+1)&quot;, &quot;#ap :nth-of-type(2n+1)&quot;, [&quot;google&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-of-type(odd)&quot;, &quot;#ap :nth-of-type(odd)&quot;, [&quot;google&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-of-type(-n+2)&quot;, &quot;#qunit-fixture &gt; :nth-of-type(-n+2)&quot;, [&quot;firstp&quot;, &quot;ap&quot;, &quot;foo&quot;, &quot;nothiddendiv&quot;, &quot;name+value&quot;, &quot;firstUL&quot;, &quot;empty&quot;, &quot;form&quot;, &quot;floatTest&quot;, &quot;iframe&quot;, &quot;lengthtest&quot;, &quot;table&quot;] );
});

test(&quot;pseudo - nth-last-of-type&quot;, function() {
	expect( 9 );
	t( &quot;Nth-last-of-type(-1)&quot;, &quot;:nth-last-of-type(-1)&quot;, [] );
	t( &quot;Nth-last-of-type(3)&quot;, &quot;#ap :nth-last-of-type(3)&quot;, [&quot;google&quot;] );
	t( &quot;Nth-last-of-type(n)&quot;, &quot;#ap :nth-last-of-type(n)&quot;, [&quot;google&quot;, &quot;groups&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-last-of-type(0n+3)&quot;, &quot;#ap :nth-last-of-type(0n+3)&quot;, [&quot;google&quot;] );
	t( &quot;Nth-last-of-type(2n)&quot;, &quot;#ap :nth-last-of-type(2n)&quot;, [&quot;groups&quot;] );
	t( &quot;Nth-last-of-type(even)&quot;, &quot;#ap :nth-last-of-type(even)&quot;, [&quot;groups&quot;] );
	t( &quot;Nth-last-of-type(2n+1)&quot;, &quot;#ap :nth-last-of-type(2n+1)&quot;, [&quot;google&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-last-of-type(odd)&quot;, &quot;#ap :nth-last-of-type(odd)&quot;, [&quot;google&quot;, &quot;code1&quot;, &quot;anchor1&quot;, &quot;mark&quot;] );
	t( &quot;Nth-last-of-type(-n+2)&quot;, &quot;#qunit-fixture &gt; :nth-last-of-type(-n+2)&quot;, [&quot;ap&quot;, &quot;name+value&quot;, &quot;first&quot;, &quot;firstUL&quot;, &quot;empty&quot;, &quot;floatTest&quot;, &quot;iframe&quot;, &quot;table&quot;, &quot;name-tests&quot;, &quot;testForm&quot;, &quot;liveHandlerOrder&quot;, &quot;siblingTest&quot;] );
});

test(&quot;pseudo - has&quot;, function() {
	expect( 3 );

	t( &quot;Basic test&quot;, &quot;p:has(a)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;en&quot;,&quot;sap&quot;] );
	t( &quot;Basic test (irrelevant whitespace)&quot;, &quot;p:has( a )&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;en&quot;,&quot;sap&quot;] );
	t( &quot;Nested with overlapping candidates&quot;, &quot;#qunit-fixture div:has(div:has(div:not([id])))&quot;, [ &quot;moretests&quot;, &quot;t2037&quot; ] );
});

test(&quot;pseudo - misc&quot;, function() {
	expect( 39 );

	var select, tmp, input;

	t( &quot;Headers&quot;, &quot;:header&quot;, [&quot;qunit-header&quot;, &quot;qunit-banner&quot;, &quot;qunit-userAgent&quot;] );
	t( &quot;Headers(case-insensitive)&quot;, &quot;:Header&quot;, [&quot;qunit-header&quot;, &quot;qunit-banner&quot;, &quot;qunit-userAgent&quot;] );
	t( &quot;Multiple matches with the same context (cache check)&quot;, &quot;#form select:has(option:first-child:contains(&#039;o&#039;))&quot;, [&quot;select1&quot;, &quot;select2&quot;, &quot;select3&quot;, &quot;select4&quot;] );

	ok( Sizzle(&quot;#qunit-fixture :not(:has(:has(*)))&quot;).length, &quot;All not grandparents&quot; );

	select = document.getElementById(&quot;select1&quot;);
	ok( Sizzle.matchesSelector( select, &quot;:has(option)&quot; ), &quot;Has Option Matches&quot; );

	ok( Sizzle(&quot;a:contains(&#039;&#039;)&quot;).length, &quot;Empty string contains&quot; );
	t( &quot;Text Contains&quot;, &quot;a:contains(Google)&quot;, [&quot;google&quot;,&quot;groups&quot;] );
	t( &quot;Text Contains&quot;, &quot;a:contains(Google Groups)&quot;, [&quot;groups&quot;] );

	t( &quot;Text Contains&quot;, &quot;a:contains(&#039;Google Groups (Link)&#039;)&quot;, [&quot;groups&quot;] );
	t( &quot;Text Contains&quot;, &quot;a:contains(\&quot;(Link)\&quot;)&quot;, [&quot;groups&quot;] );
	t( &quot;Text Contains&quot;, &quot;a:contains(Google Groups (Link))&quot;, [&quot;groups&quot;] );
	t( &quot;Text Contains&quot;, &quot;a:contains((Link))&quot;, [&quot;groups&quot;] );


	tmp = document.createElement(&quot;div&quot;);
	tmp.id = &quot;tmp_input&quot;;
	document.body.appendChild( tmp );

	jQuery.each( [ &quot;button&quot;, &quot;submit&quot;, &quot;reset&quot; ], function( i, type ) {
		var els = jQuery(
			&quot;&lt;input id=&#039;input_%&#039; type=&#039;%&#039;/&gt;&lt;button id=&#039;button_%&#039; type=&#039;%&#039;&gt;test&lt;/button&gt;&quot;
			.replace( /%/g, type )
		).appendTo( tmp );

		t( &quot;Input Buttons :&quot; + type, &quot;#tmp_input :&quot; + type, [ &quot;input_&quot; + type, &quot;button_&quot; + type ] );

		ok( Sizzle.matchesSelector( els[0], &quot;:&quot; + type ), &quot;Input Matches :&quot; + type );
		ok( Sizzle.matchesSelector( els[1], &quot;:&quot; + type ), &quot;Button Matches :&quot; + type );
	});

	document.body.removeChild( tmp );

	// Recreate tmp
	tmp = document.createElement(&quot;div&quot;);
	tmp.id = &quot;tmp_input&quot;;
	tmp.innerHTML = &quot;&lt;span&gt;Hello I am focusable.&lt;/span&gt;&quot;;
	// Setting tabIndex should make the element focusable
	// http://dev.w3.org/html5/spec/single-page.html#focus-management
	document.body.appendChild( tmp );
	tmp.tabIndex = 0;
	tmp.focus();
	if ( document.activeElement !== tmp || (document.hasFocus &amp;&amp; !document.hasFocus()) ||
		(document.querySelectorAll &amp;&amp; !document.querySelectorAll(&quot;div:focus&quot;).length) ) {
		ok( true, &quot;The div was not focused. Skip checking the :focus match.&quot; );
		ok( true, &quot;The div was not focused. Skip checking the :focus match.&quot; );
	} else {
		t( &quot;tabIndex element focused&quot;, &quot;:focus&quot;, [ &quot;tmp_input&quot; ] );
		ok( Sizzle.matchesSelector( tmp, &quot;:focus&quot; ), &quot;:focus matches tabIndex div&quot; );
	}

	// Blur tmp
	tmp.blur();
	document.body.focus();
	ok( !Sizzle.matchesSelector( tmp, &quot;:focus&quot; ), &quot;:focus doesn&#039;t match tabIndex div&quot; );
	document.body.removeChild( tmp );

	// Input focus/active
	input = document.createElement(&quot;input&quot;);
	input.type = &quot;text&quot;;
	input.id = &quot;focus-input&quot;;

	document.body.appendChild( input );
	input.focus();

	// Inputs can&#039;t be focused unless the document has focus
	if ( document.activeElement !== input || (document.hasFocus &amp;&amp; !document.hasFocus()) ||
		(document.querySelectorAll &amp;&amp; !document.querySelectorAll(&quot;input:focus&quot;).length) ) {
		ok( true, &quot;The input was not focused. Skip checking the :focus match.&quot; );
		ok( true, &quot;The input was not focused. Skip checking the :focus match.&quot; );
	} else {
		t( &quot;Element focused&quot;, &quot;input:focus&quot;, [ &quot;focus-input&quot; ] );
		ok( Sizzle.matchesSelector( input, &quot;:focus&quot; ), &quot;:focus matches&quot; );
	}

	input.blur();

	// When IE is out of focus, blur does not work. Force it here.
	if ( document.activeElement === input ) {
		document.body.focus();
	}

	ok( !Sizzle.matchesSelector( input, &quot;:focus&quot; ), &quot;:focus doesn&#039;t match&quot; );
	document.body.removeChild( input );



	deepEqual(
		Sizzle( &quot;[id=&#039;select1&#039;] *:not(:last-child), [id=&#039;select2&#039;] *:not(:last-child)&quot;, q(&quot;qunit-fixture&quot;)[0] ),
		q( &quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;, &quot;option2a&quot;, &quot;option2b&quot;, &quot;option2c&quot; ),
		&quot;caching system tolerates recursive selection&quot;
	);

	// Tokenization edge cases
	t( &quot;Sequential pseudos&quot;, &quot;#qunit-fixture p:has(:contains(mark)):has(code)&quot;, [&quot;ap&quot;] );
	t( &quot;Sequential pseudos&quot;, &quot;#qunit-fixture p:has(:contains(mark)):has(code):contains(This link)&quot;, [&quot;ap&quot;] );

	t( &quot;Pseudo argument containing &#039;)&#039;&quot;, &quot;p:has(&gt;a.GROUPS[src!=&#039;)&#039;])&quot;, [&quot;ap&quot;] );
	t( &quot;Pseudo argument containing &#039;)&#039;&quot;, &quot;p:has(&gt;a.GROUPS[src!=&#039;)&#039;])&quot;, [&quot;ap&quot;] );
	t( &quot;Pseudo followed by token containing &#039;)&#039;&quot;, &quot;p:contains(id=\&quot;foo\&quot;)[id!=\\)]&quot;, [&quot;sndp&quot;] );
	t( &quot;Pseudo followed by token containing &#039;)&#039;&quot;, &quot;p:contains(id=\&quot;foo\&quot;)[id!=&#039;)&#039;]&quot;, [&quot;sndp&quot;] );

	t( &quot;Multi-pseudo&quot;, &quot;#ap:has(*), #ap:has(*)&quot;, [&quot;ap&quot;] );
	t( &quot;Multi-positional&quot;, &quot;#ap:gt(0), #ap:lt(1)&quot;, [&quot;ap&quot;] );
	t( &quot;Multi-pseudo with leading nonexistent id&quot;, &quot;#nonexistent:has(*), #ap:has(*)&quot;, [&quot;ap&quot;] );
	t( &quot;Multi-positional with leading nonexistent id&quot;, &quot;#nonexistent:gt(0), #ap:lt(1)&quot;, [&quot;ap&quot;] );

	t( &quot;Tokenization stressor&quot;, &quot;a[class*=blog]:not(:has(*, :contains(!)), :contains(!)), br:contains(]), p:contains(]), :not(:empty):not(:parent)&quot;, [&quot;ap&quot;, &quot;mark&quot;,&quot;yahoo&quot;,&quot;simon&quot;] );
});


test(&quot;pseudo - :not&quot;, function() {
	expect( 43 );

	t( &quot;Not&quot;, &quot;a.blog:not(.link)&quot;, [&quot;mark&quot;] );
	t( &quot;:not() with :first&quot;, &quot;#foo p:not(:first) .link&quot;, [&quot;simon&quot;] );

	t( &quot;Not - multiple&quot;, &quot;#form option:not(:contains(Nothing),#option1b,:selected)&quot;, [&quot;option1c&quot;, &quot;option1d&quot;, &quot;option2b&quot;, &quot;option2c&quot;, &quot;option3d&quot;, &quot;option3e&quot;, &quot;option4e&quot;, &quot;option5b&quot;, &quot;option5c&quot;] );
	t( &quot;Not - recursive&quot;, &quot;#form option:not(:not(:selected))[id^=&#039;option3&#039;]&quot;, [ &quot;option3b&quot;, &quot;option3c&quot;] );

	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(.foo)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(div.foo)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(p.foo)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(#blargh)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(div#blargh)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not() failing interior&quot;, &quot;#qunit-fixture p:not(p#blargh)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );

	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not(a)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not( a )&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not( p )&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not(a, b)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not(a, b, div)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;:not Multiple&quot;, &quot;p:not(p)&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;p:not(a,p)&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;p:not(p,a)&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;p:not(a,p,b)&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;:input:not(:image,:input,:submit)&quot;, [] );
	t( &quot;:not Multiple&quot;, &quot;#qunit-fixture p:not(:has(a), :nth-child(1))&quot;, [&quot;first&quot;] );

	t( &quot;No element not selector&quot;, &quot;.container div:not(.excluded) div&quot;, [] );

	t( &quot;:not() Existing attribute&quot;, &quot;#form select:not([multiple])&quot;, [&quot;select1&quot;, &quot;select2&quot;, &quot;select5&quot;]);
	t( &quot;:not() Equals attribute&quot;, &quot;#form select:not([name=select1])&quot;, [&quot;select2&quot;, &quot;select3&quot;, &quot;select4&quot;,&quot;select5&quot;]);
	t( &quot;:not() Equals quoted attribute&quot;, &quot;#form select:not([name=&#039;select1&#039;])&quot;, [&quot;select2&quot;, &quot;select3&quot;, &quot;select4&quot;, &quot;select5&quot;]);

	t( &quot;:not() Multiple Class&quot;, &quot;#foo a:not(.blog)&quot;, [&quot;yahoo&quot;, &quot;anchor2&quot;] );
	t( &quot;:not() Multiple Class&quot;, &quot;#foo a:not(.link)&quot;, [&quot;yahoo&quot;, &quot;anchor2&quot;] );
	t( &quot;:not() Multiple Class&quot;, &quot;#foo a:not(.blog.link)&quot;, [&quot;yahoo&quot;, &quot;anchor2&quot;] );

	t( &quot;:not chaining (compound)&quot;, &quot;#qunit-fixture div[id]:not(:has(div, span)):not(:has(*))&quot;, [&quot;nothiddendivchild&quot;, &quot;divWithNoTabIndex&quot;] );
	t( &quot;:not chaining (with attribute)&quot;, &quot;#qunit-fixture form[id]:not([action$=&#039;formaction&#039;]):not(:button)&quot;, [&quot;lengthtest&quot;, &quot;name-tests&quot;, &quot;testForm&quot;] );
	t( &quot;:not chaining (colon in attribute)&quot;, &quot;#qunit-fixture form[id]:not([action=&#039;form:action&#039;]):not(:button)&quot;, [&quot;form&quot;, &quot;lengthtest&quot;, &quot;name-tests&quot;, &quot;testForm&quot;] );
	t( &quot;:not chaining (colon in attribute and nested chaining)&quot;, &quot;#qunit-fixture form[id]:not([action=&#039;form:action&#039;]:button):not(:input)&quot;, [&quot;form&quot;, &quot;lengthtest&quot;, &quot;name-tests&quot;, &quot;testForm&quot;] );
	t( &quot;:not chaining&quot;, &quot;#form select:not(.select1):contains(Nothing) &gt; option:not(option)&quot;, [] );

	t( &quot;positional :not()&quot;, &quot;#foo p:not(:last)&quot;, [&quot;sndp&quot;, &quot;en&quot;] );
	t( &quot;positional :not() prefix&quot;, &quot;#foo p:not(:last) a&quot;, [&quot;yahoo&quot;] );
	t( &quot;compound positional :not()&quot;, &quot;#foo p:not(:first, :last)&quot;, [&quot;en&quot;] );
	t( &quot;compound positional :not()&quot;, &quot;#foo p:not(:first, :even)&quot;, [&quot;en&quot;] );
	t( &quot;compound positional :not()&quot;, &quot;#foo p:not(:first, :odd)&quot;, [&quot;sap&quot;] );
	t( &quot;reordered compound positional :not()&quot;, &quot;#foo p:not(:odd, :first)&quot;, [&quot;sap&quot;] );

	t( &quot;positional :not() with pre-filter&quot;, &quot;#foo p:not([id]:first)&quot;, [&quot;en&quot;, &quot;sap&quot;] );
	t( &quot;positional :not() with post-filter&quot;, &quot;#foo p:not(:first[id])&quot;, [&quot;en&quot;, &quot;sap&quot;] );
	t( &quot;positional :not() with pre-filter&quot;, &quot;#foo p:not([lang]:first)&quot;, [&quot;sndp&quot;, &quot;sap&quot;] );
	t( &quot;positional :not() with post-filter&quot;, &quot;#foo p:not(:first[lang])&quot;, [&quot;sndp&quot;, &quot;en&quot;, &quot;sap&quot;] );
});

test(&quot;pseudo - position&quot;, function() {
	expect( 33 );

	t( &quot;First element&quot;, &quot;div:first&quot;, [&quot;qunit&quot;] );
	t( &quot;First element(case-insensitive)&quot;, &quot;div:fiRst&quot;, [&quot;qunit&quot;] );
	t( &quot;nth Element&quot;, &quot;#qunit-fixture p:nth(1)&quot;, [&quot;ap&quot;] );
	t( &quot;First Element&quot;, &quot;#qunit-fixture p:first&quot;, [&quot;firstp&quot;] );
	t( &quot;Last Element&quot;, &quot;p:last&quot;, [&quot;first&quot;] );
	t( &quot;Even Elements&quot;, &quot;#qunit-fixture p:even&quot;, [&quot;firstp&quot;,&quot;sndp&quot;,&quot;sap&quot;] );
	t( &quot;Odd Elements&quot;, &quot;#qunit-fixture p:odd&quot;, [&quot;ap&quot;,&quot;en&quot;,&quot;first&quot;] );
	t( &quot;Position Equals&quot;, &quot;#qunit-fixture p:eq(1)&quot;, [&quot;ap&quot;] );
	t( &quot;Position Equals (negative)&quot;, &quot;#qunit-fixture p:eq(-1)&quot;, [&quot;first&quot;] );
	t( &quot;Position Greater Than&quot;, &quot;#qunit-fixture p:gt(0)&quot;, [&quot;ap&quot;,&quot;sndp&quot;,&quot;en&quot;,&quot;sap&quot;,&quot;first&quot;] );
	t( &quot;Position Less Than&quot;, &quot;#qunit-fixture p:lt(3)&quot;, [&quot;firstp&quot;,&quot;ap&quot;,&quot;sndp&quot;] );

	t( &quot;Check position filtering&quot;, &quot;div#nothiddendiv:eq(0)&quot;, [&quot;nothiddendiv&quot;] );
	t( &quot;Check position filtering&quot;, &quot;div#nothiddendiv:last&quot;, [&quot;nothiddendiv&quot;] );
	t( &quot;Check position filtering&quot;, &quot;div#nothiddendiv:not(:gt(0))&quot;, [&quot;nothiddendiv&quot;] );
	t( &quot;Check position filtering&quot;, &quot;#foo &gt; :not(:first)&quot;, [&quot;en&quot;, &quot;sap&quot;] );
	t( &quot;Check position filtering&quot;, &quot;#qunit-fixture select &gt; :not(:gt(2))&quot;, [&quot;option1a&quot;, &quot;option1b&quot;, &quot;option1c&quot;] );
	t( &quot;Check position filtering&quot;, &quot;#qunit-fixture select:lt(2) :not(:first)&quot;, [&quot;option1b&quot;, &quot;option1c&quot;, &quot;option1d&quot;, &quot;option2a&quot;, &quot;option2b&quot;, &quot;option2c&quot;, &quot;option2d&quot;] );
	t( &quot;Check position filtering&quot;, &quot;div.nothiddendiv:eq(0)&quot;, [&quot;nothiddendiv&quot;] );
	t( &quot;Check position filtering&quot;, &quot;div.nothiddendiv:last&quot;, [&quot;nothiddendiv&quot;] );
	t( &quot;Check position filtering&quot;, &quot;div.nothiddendiv:not(:lt(0))&quot;, [&quot;nothiddendiv&quot;] );

	t( &quot;Check element position&quot;, &quot;#qunit-fixture div div:eq(0)&quot;, [&quot;nothiddendivchild&quot;] );
	t( &quot;Check element position&quot;, &quot;#select1 option:eq(3)&quot;, [&quot;option1d&quot;] );
	t( &quot;Check element position&quot;, &quot;#qunit-fixture div div:eq(10)&quot;, [&quot;names-group&quot;] );
	t( &quot;Check element position&quot;, &quot;#qunit-fixture div div:first&quot;, [&quot;nothiddendivchild&quot;] );
	t( &quot;Check element position&quot;, &quot;#qunit-fixture div &gt; div:first&quot;, [&quot;nothiddendivchild&quot;] );
	t( &quot;Check element position&quot;, &quot;#dl div:first div:first&quot;, [&quot;foo&quot;] );
	t( &quot;Check element position&quot;, &quot;#dl div:first &gt; div:first&quot;, [&quot;foo&quot;] );
	t( &quot;Check element position&quot;, &quot;div#nothiddendiv:first &gt; div:first&quot;, [&quot;nothiddendivchild&quot;] );
	t( &quot;Chained pseudo after a pos pseudo&quot;, &quot;#listWithTabIndex li:eq(0):contains(Rice)&quot;, [&quot;foodWithNegativeTabIndex&quot;] );

	t( &quot;Check sort order with POS and comma&quot;, &quot;#qunit-fixture em&gt;em&gt;em&gt;em:first-child,div&gt;em:first&quot;, [&quot;siblingfirst&quot;, &quot;siblinggreatgrandchild&quot;] );

	t( &quot;Isolated position&quot;, &quot;:last&quot;, [&quot;last&quot;] );

	deepEqual( Sizzle( &quot;*:lt(2) + *&quot;, null, [], Sizzle(&quot;#qunit-fixture &gt; p&quot;) ), q(&quot;ap&quot;), &quot;Seeded pos with trailing relative&quot; );

	// jQuery #12526
	var context = jQuery(&quot;#qunit-fixture&quot;).append(&quot;&lt;div id=&#039;jquery12526&#039;&gt;&lt;/div&gt;&quot;)[0];
	deepEqual( Sizzle( &quot;:last&quot;, context ), q(&quot;jquery12526&quot;), &quot;Post-manipulation positional&quot; );
});

test(&quot;pseudo - form&quot;, function() {
	expect( 10 );

	var extraTexts = jQuery(&quot;&lt;input id=\&quot;impliedText\&quot;/&gt;&lt;input id=\&quot;capitalText\&quot; type=\&quot;TEXT\&quot;&gt;&quot;).appendTo(&quot;#form&quot;);

	t( &quot;Form element :input&quot;, &quot;#form :input&quot;, [&quot;text1&quot;, &quot;text2&quot;, &quot;radio1&quot;, &quot;radio2&quot;, &quot;check1&quot;, &quot;check2&quot;, &quot;hidden1&quot;, &quot;hidden2&quot;, &quot;name&quot;, &quot;search&quot;, &quot;button&quot;, &quot;area1&quot;, &quot;select1&quot;, &quot;select2&quot;, &quot;select3&quot;, &quot;select4&quot;, &quot;select5&quot;, &quot;impliedText&quot;, &quot;capitalText&quot;] );
	t( &quot;Form element :radio&quot;, &quot;#form :radio&quot;, [&quot;radio1&quot;, &quot;radio2&quot;] );
	t( &quot;Form element :checkbox&quot;, &quot;#form :checkbox&quot;, [&quot;check1&quot;, &quot;check2&quot;] );
	t( &quot;Form element :text&quot;, &quot;#form :text&quot;, [&quot;text1&quot;, &quot;text2&quot;, &quot;hidden2&quot;, &quot;name&quot;, &quot;impliedText&quot;, &quot;capitalText&quot;] );
	t( &quot;Form element :radio:checked&quot;, &quot;#form :radio:checked&quot;, [&quot;radio2&quot;] );
	t( &quot;Form element :checkbox:checked&quot;, &quot;#form :checkbox:checked&quot;, [&quot;check1&quot;] );
	t( &quot;Form element :radio:checked, :checkbox:checked&quot;, &quot;#form :radio:checked, #form :checkbox:checked&quot;, [&quot;radio2&quot;, &quot;check1&quot;] );

	t( &quot;Selected Option Element&quot;, &quot;#form option:selected&quot;, [&quot;option1a&quot;,&quot;option2d&quot;,&quot;option3b&quot;,&quot;option3c&quot;,&quot;option4b&quot;,&quot;option4c&quot;,&quot;option4d&quot;,&quot;option5a&quot;] );
	t( &quot;Selected Option Element are also :checked&quot;, &quot;#form option:checked&quot;, [&quot;option1a&quot;,&quot;option2d&quot;,&quot;option3b&quot;,&quot;option3c&quot;,&quot;option4b&quot;,&quot;option4c&quot;,&quot;option4d&quot;,&quot;option5a&quot;] );
	t( &quot;Hidden inputs should be treated as enabled. See QSA test.&quot;, &quot;#hidden1:enabled&quot;, [&quot;hidden1&quot;] );

	extraTexts.remove();
});

test(&quot;pseudo - :target and :root&quot;, function() {
	expect( 2 );

	// Target
	var oldHash,
	$link = jQuery(&quot;&lt;a/&gt;&quot;).attr({
		href: &quot;#&quot;,
		id: &quot;new-link&quot;
	}).appendTo(&quot;#qunit-fixture&quot;);

	oldHash = window.location.hash;
	window.location.hash = &quot;new-link&quot;;

	t( &quot;:target&quot;, &quot;:target&quot;, [&quot;new-link&quot;] );

	$link.remove();
	window.location.hash = oldHash;

	// Root
	equal( Sizzle(&quot;:root&quot;)[0], document.documentElement, &quot;:root selector&quot; );
});

test(&quot;pseudo - :lang&quot;, function() {
	expect( 105 );

	var docElem = document.documentElement,
		docXmlLang = docElem.getAttribute(&quot;xml:lang&quot;),
		docLang = docElem.lang,
		foo = document.getElementById(&quot;foo&quot;),
		anchor = document.getElementById(&quot;anchor2&quot;),
		xml = createWithFriesXML(),
		testLang = function( text, elem, container, lang, extra ) {
			var message,
				full = lang + &quot;-&quot; + extra;

			message = &quot;lang=&quot; + lang + &quot; &quot; + text;
			container.setAttribute( container.ownerDocument.documentElement.nodeName === &quot;HTML&quot; ? &quot;lang&quot; : &quot;xml:lang&quot;, lang );
			assertMatch( message, elem, &quot;:lang(&quot; + lang + &quot;)&quot; );
			assertMatch( message, elem, &quot;:lang(&quot; + mixCase(lang) + &quot;)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + full + &quot;)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + mixCase(full) + &quot;)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + lang + &quot;-)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + full + &quot;-)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + lang + &quot;glish)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + full + &quot;glish)&quot; );

			message = &quot;lang=&quot; + full + &quot; &quot; + text;
			container.setAttribute( container.ownerDocument.documentElement.nodeName === &quot;HTML&quot; ? &quot;lang&quot; : &quot;xml:lang&quot;, full );
			assertMatch( message, elem, &quot;:lang(&quot; + lang + &quot;)&quot; );
			assertMatch( message, elem, &quot;:lang(&quot; + mixCase(lang) + &quot;)&quot; );
			assertMatch( message, elem, &quot;:lang(&quot; + full + &quot;)&quot; );
			assertMatch( message, elem, &quot;:lang(&quot; + mixCase(full) + &quot;)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + lang + &quot;-)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + full + &quot;-)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + lang + &quot;glish)&quot; );
			assertNoMatch( message, elem, &quot;:lang(&quot; + full + &quot;glish)&quot; );
		},
		mixCase = function( str ) {
			var ret = str.split(&quot;&quot;),
				i = ret.length;
			while ( i-- ) {
				if ( i &amp; 1 ) {
					ret[i] = ret[i].toUpperCase();
				}
			}
			return ret.join(&quot;&quot;);
		},
		assertMatch = function( text, elem, selector ) {
			ok( Sizzle.matchesSelector( elem, selector ), text + &quot; match &quot; + selector );
		},
		assertNoMatch = function( text, elem, selector ) {
			ok( !Sizzle.matchesSelector( elem, selector ), text + &quot; fail &quot; + selector );
		};

	// Prefixing and inheritance
	ok( Sizzle.matchesSelector( docElem, &quot;:lang(&quot; + docElem.lang + &quot;)&quot; ), &quot;starting :lang&quot; );
	testLang( &quot;document&quot;, anchor, docElem, &quot;en&quot;, &quot;us&quot; );
	testLang( &quot;grandparent&quot;, anchor, anchor.parentNode.parentNode, &quot;yue&quot;, &quot;hk&quot; );
	ok( !Sizzle.matchesSelector( anchor, &quot;:lang(en), :lang(en-us)&quot; ),
		&quot;:lang does not look above an ancestor with specified lang&quot; );
	testLang( &quot;self&quot;, anchor, anchor, &quot;es&quot;, &quot;419&quot; );
	ok( !Sizzle.matchesSelector( anchor, &quot;:lang(en), :lang(en-us), :lang(yue), :lang(yue-hk)&quot; ),
		&quot;:lang does not look above self with specified lang&quot; );

	// Searching by language tag
	anchor.parentNode.parentNode.lang = &quot;arab&quot;;
	anchor.parentNode.lang = anchor.parentNode.id = &quot;ara-sa&quot;;
	anchor.lang = &quot;ara&quot;;
	deepEqual( Sizzle( &quot;:lang(ara)&quot;, foo ), [ anchor.parentNode, anchor ], &quot;Find by :lang&quot; );

	// Selector validity
	anchor.parentNode.lang = &quot;ara&quot;;
	anchor.lang = &quot;ara\\b&quot;;
	deepEqual( Sizzle( &quot;:lang(ara\\b)&quot;, foo ), [], &quot;:lang respects backslashes&quot; );
	deepEqual( Sizzle( &quot;:lang(ara\\\\b)&quot;, foo ), [ anchor ], &quot;:lang respects escaped backslashes&quot; );
	throws(function() {
		Sizzle.call( null, &quot;dl:lang(c++)&quot; );
	}, function( e ) {
		return e.message.indexOf(&quot;Syntax error&quot;) &gt;= 0;
	}, &quot;:lang value must be a valid identifier&quot; );

	// XML
	foo = jQuery( &quot;response&quot;, xml )[0];
	anchor = jQuery( &quot;#seite1&quot;, xml )[0];
	testLang( &quot;XML document&quot;, anchor, xml.documentElement, &quot;en&quot;, &quot;us&quot; );
	testLang( &quot;XML grandparent&quot;, anchor, foo, &quot;yue&quot;, &quot;hk&quot; );
	ok( !Sizzle.matchesSelector( anchor, &quot;:lang(en), :lang(en-us)&quot; ),
		&quot;XML :lang does not look above an ancestor with specified lang&quot; );
	testLang( &quot;XML self&quot;, anchor, anchor, &quot;es&quot;, &quot;419&quot; );
	ok( !Sizzle.matchesSelector( anchor, &quot;:lang(en), :lang(en-us), :lang(yue), :lang(yue-hk)&quot; ),
		&quot;XML :lang does not look above self with specified lang&quot; );

	// Cleanup
	if ( docXmlLang == null ) {
		docElem.removeAttribute(&quot;xml:lang&quot;);
	} else {
		docElem.setAttribute( &quot;xml:lang&quot;, docXmlLang );
	}
	docElem.lang = docLang;
});

test(&quot;caching&quot;, function() {
	expect( 2 );
	Sizzle( &quot;:not(code)&quot;, document.getElementById(&quot;ap&quot;) );
	deepEqual( Sizzle( &quot;:not(code)&quot;, document.getElementById(&quot;foo&quot;) ), q(&quot;sndp&quot;, &quot;en&quot;, &quot;yahoo&quot;, &quot;sap&quot;, &quot;anchor2&quot;, &quot;simon&quot;), &quot;Reusing selector with new context&quot; );

	t( &quot;Deep ancestry caching in post-positional element matcher (jQuery #14657)&quot;,
		&quot;#qunit-fixture a:lt(3):parent&quot;,
		[ &quot;simon1&quot;, &quot;google&quot;, &quot;groups&quot; ] );
});

asyncTest( &quot;Iframe dispatch should not affect Sizzle, see jQuery #13936&quot;, 1, function() {
	var loaded = false,
		thrown = false,
		iframe = document.getElementById(&quot;iframe&quot;),
		iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

	jQuery( iframe ).on( &quot;load&quot;, function() {
		var form;

		try {
			iframeDoc = this.contentDocument || this.contentWindow.document;
			form = Sizzle( &quot;#navigate&quot;, iframeDoc )[ 0 ];
		} catch ( e ) {
			thrown = e;
		}

		if ( loaded ) {
			strictEqual( thrown, false, &quot;No error thrown from post-reload Sizzle call&quot; );
			start();
		} else {
			loaded = true;
			form.submit();
		}
	});

	iframeDoc.open();
	iframeDoc.write(&quot;&lt;body&gt;&lt;form id=&#039;navigate&#039;&gt;&lt;/form&gt;&lt;/body&gt;&quot;);
	iframeDoc.close();
});

test(&quot;matchesSelector&quot;, function() {
	expect( 6 );

	var el = document.getElementById(&quot;simon1&quot;),
		disconnected = document.createElement(&quot;div&quot;);

	ok( Sizzle.matchesSelector( el, &quot;[rel=&#039;bookmark&#039;]&quot; ), &quot;quoted attribute&quot; );
	ok( Sizzle.matchesSelector( el, &quot;[rel=bookmark]&quot; ), &quot;unquoted attribute&quot; );
	ok( Sizzle.matchesSelector( el, &quot;[\nrel = bookmark\t]&quot; ), &quot;unquoted attribute with non-semantic whitespace&quot; );

	ok( Sizzle.matchesSelector( disconnected, &quot;div&quot; ), &quot;disconnected element&quot; );

	ok( Sizzle.matchesSelector( el, &quot;* &gt; *&quot; ), &quot;child combinator (matching)&quot; );
	ok( !Sizzle.matchesSelector( disconnected, &quot;* &gt; *&quot; ), &quot;child combinator (not matching)&quot; );
});

test(&quot;select() with pre-compiled function&quot;, function() {
	expect( 6 );

	jQuery.each([ &quot;#qunit-fixture #first&quot;, &quot;ol#listWithTabIndex &gt; li[tabindex]&quot;, &quot;#liveSpan1&quot; ],
	function( i, selector ) {
		var compiled = Sizzle.compile( selector );
		equal( Sizzle.select( compiled, document ).length, 1, &quot;Should match using a compiled selector function&quot; );
		equal( Sizzle.select( compiled, Sizzle( &quot;#first&quot;)[0] ).length, 0, &quot;Should not match with different context&quot; );
	});
});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
